# =============
# == SOURCES ==
# =============

set(SOURCES
  src/main.cpp
)
 
# ===========
# == BUILD ==
# ===========

# Create target
add_executable(AppBofStd
  ${SOURCES}
)

# Includes
target_include_directories(AppBofStd
  PRIVATE
    $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/src/>
)

# Link
target_link_libraries(AppBofStd
  PRIVATE
    ONBINGS::bofstd
#    Qt5::Core
#    Qt5::Gui
#    Qt5::Widgets
)

# Defines
target_compile_definitions(AppBofStd
  PRIVATE
)

# Properties
#set_target_properties(AppBofStd
#  PROPERTIES 
#    AUTOMOC ON
#    AUTORCC ON
#)   

# =============
# == INSTALL ==
# =============

if(NOT APPLE)

  # Fix RPATH upon installation by replacing
  # the absolute RPATH generated by the compiler
  # to where libraries were really installed
  set_target_properties(AppBofStd PROPERTIES
    INSTALL_RPATH $ORIGIN/${RELATIVE_PATH_BIN_TO_LIB}
  )

endif()

# Install the target runtime
install(
  TARGETS  AppBofStd
  EXPORT   AppBofStd
  RUNTIME  DESTINATION ${CMAKE_INSTALL_BINDIR}     # For binaries and dll
           COMPONENT   AppBofStd-app
)

